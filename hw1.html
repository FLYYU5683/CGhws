<!DOCTYPE html>
<html>
<style>
#info {
  position: absolute;
  top: 0px;
  width: 100%;
  padding: 10px;
  text-align: center;
  color: #ffff00
}

body {
  overflow: hidden;
}
</style>
<body>
<div id = "info"><br>
<button id = 'toggle' style = "width: 20%">Start</button>
<button id = 'turnways' style = "width: 20%">Switch</button>

</div>
<script src="https://threejs.org/build/three.min.js"></script>
<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
<script>
javascript: (function () { var script = document.createElement('script'); script.onload = function () { var stats = new Stats(); document.body.appendChild(stats.dom); requestAnimationFrame(function loop() { stats.update(); requestAnimationFrame(loop) }); }; script.src = 'https://mrdoob.github.io/stats.js/build/stats.min.js'; document.head.appendChild(script); })()

$("#toggle").click(function(){
	turn = !turn;
	if(turn)
	$("#toggle").text("stop");
	else
	$("#toggle").text("turn");
})

$("#turnways").click(function(){
	ways = !ways;
	if(ways)
	$("#turnways").text("smooth");
	else
	$("#turnways").text("SixDegs");
})

var camera, scene, renderer;
var angle_1 = angle_2 = 0;
var turn = false;
var ways = true;
var groups = [];

init();
animate();
function init(){

}

function init() {
	for(var k = 0; k< 2;k++)
		groups[k] = new THREE.Group();

  renderer = new THREE.WebGLRenderer({
    antialias: true
  });

	renderer.setSize(window.innerWidth, window.innerHeight);
	renderer.setClearColor(0x888888);
	document.body.appendChild(renderer.domElement);
	window.addEventListener('resize', onWindowResize, false);
  
	scene = new THREE.Scene();
	camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);
	camera.position.z = 120;

	/////////////////////////////////////////////////////////

	var geometry = new THREE.CircleGeometry( 50, 64 );
	var material = new THREE.MeshBasicMaterial( { color: 0xffff00 } );
	var circle = new THREE.Mesh( geometry, material );
	scene.add( circle );
	geometry = new THREE.PlaneGeometry( 5, 40 );
	material = new THREE.MeshBasicMaterial( {color: 0xff0000, side: THREE.DoubleSide} );
	plane = new THREE.Mesh( geometry, material );
	plane.position.y = 20;
	
	plane1 = new THREE.Mesh( geometry, material );
	plane1.position.y = 20;
	
	const x = 0, y = 0;

	const heartShape = new THREE.Shape();
	
	heartShape.moveTo( x + 5, y + 5 );
	heartShape.bezierCurveTo( x + 5, y + 5, x + 4, y, x, y );
	heartShape.bezierCurveTo( x - 6, y, x - 6, y + 7,x - 6, y + 7 );
	heartShape.bezierCurveTo( x - 6, y + 11, x - 3, y + 15.4, x + 5, y + 19 );
	heartShape.bezierCurveTo( x + 12, y + 15.4, x + 16, y + 11, x + 16, y + 7 );
	heartShape.bezierCurveTo( x + 16, y + 7, x + 16, y, x + 10, y );
	heartShape.bezierCurveTo( x + 7, y, x + 5, y + 5, x + 5, y + 5 );

	geometry = new THREE.ShapeGeometry( heartShape );
	material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
	mesh = new THREE.Mesh( geometry, material ) ;
	mesh.position.x = -5;
	mesh.position.y = 30;
	
	mesh1 = new THREE.Mesh( geometry, material ) ;
	mesh1.position.x = -5;
	mesh1.position.y = 30;
	
	groups[0].valueOf().add(plane,mesh);
	groups[1].valueOf().add(plane1,mesh1);
	
	scene.add(groups[0]);
	scene.add(groups[1]);	
	
	clock = new THREE.Clock();
	clock.getDelta();
	
	setTimeout(turnSixDegs, 0);
  
  
  
  
}
	function turnSixDegs(){
		if(turn)
			angle_2 += 6/180*Math.PI;
		setTimeout(turnSixDegs,1000);
	}

function onWindowResize() {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
}

function animate() {

	var dt = clock.getDelta();
	if(turn)
	{
		angle_1 += 2 * Math.PI * dt /60;
	}
	if(ways)
	{
		groups[0].valueOf().visible = true;
		groups[1].valueOf().visible = false;
	}
	else
	{
		groups[0].valueOf().visible = false;
		groups[1].valueOf().visible = true;
	}
	
	
	groups[0].valueOf().position.set(0.6*Math.sin(angle_1),0.6*Math.cos(angle_1),0);
	groups[0].valueOf().rotation.z = -angle_1;
	
	groups[1].valueOf().position.set(0.6*Math.sin(angle_2),0.6*Math.cos(angle_2),0);
	groups[1].valueOf().rotation.z = -angle_2;
	
	requestAnimationFrame(animate);
	render();
}

function render() {
  renderer.render(scene, camera);
}

</script>

<div id="info">THREE.JS 2D Template</div>
</body>
</html>